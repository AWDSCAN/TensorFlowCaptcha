# ç®—æ³•æ›´æ–°éªŒè¯æŠ¥å‘Š

**æ—¥æœŸ**: 2026-02-02  
**éªŒè¯äºº**: AI Assistant  
**çŠ¶æ€**: âœ… å…¨éƒ¨é€šè¿‡

---

## ğŸ“‹ æ›´æ–°æ¸…å•éªŒè¯

### 1. âœ… ResNet-34æ¶æ„å®ç°

**æ–‡ä»¶**: `caocrvfy/core/model.py`

**éªŒè¯é¡¹ç›®**:
- [x] **æ®‹å·®å—å‡½æ•°** (`residual_block`)
  - ä½ç½®: Lines 22-79
  - åŒ…å«: Conv2D â†’ BN â†’ ReLU â†’ Conv2D â†’ BN â†’ Add â†’ ReLU
  - å¿«æ·è¿æ¥: æ”¯æŒæ’ç­‰æ˜ å°„å’Œå·ç§¯æ·å¾„
  - Nameå¤„ç†: å·²ä¿®å¤ï¼Œä½¿ç”¨f-stringå’Œé»˜è®¤å€¼

- [x] **æ®‹å·®å †å å‡½æ•°** (`residual_stack`)
  - ä½ç½®: Lines 82-103
  - åŠŸèƒ½: å †å å¤šä¸ªæ®‹å·®å—ï¼Œæ”¯æŒæ­¥é•¿æ§åˆ¶
  - Nameå¤„ç†: å·²ä¿®å¤

- [x] **34å±‚ç½‘ç»œç»“æ„** (`create_cnn_model`)
  - ä½ç½®: Lines 106-196
  - Stage 1: Conv(7Ã—7, 64) + BN + ReLU + MaxPool âœ…
  - Stage 2: 3ä¸ªæ®‹å·®å— Ã— 64 filters âœ…
  - Stage 3: 4ä¸ªæ®‹å·®å— Ã— 128 filters (stride=2) âœ…
  - Stage 4: 6ä¸ªæ®‹å·®å— Ã— 256 filters (stride=2) âœ…
  - Stage 5: 3ä¸ªæ®‹å·®å— Ã— 512 filters (stride=2) âœ…
  - æ€»å±‚æ•°: 1 + (3+4+6+3)Ã—2 + 1 + 1 = **34å±‚** âœ…

- [x] **åºåˆ—å»ºæ¨¡å±‚**
  - Reshape: (batch, width, heightÃ—channels) âœ…
  - Bidirectional LSTM(256 units) âœ…
  - Flatten â†’ Dense(2048) + Dropout(0.5) âœ…

**æµ‹è¯•ç»“æœ**:
```
æ¨¡å‹åç§°: captcha_resnet34
æ€»å‚æ•°: 32,054,714 (122.28 MB)
è¾“å…¥å½¢çŠ¶: (1, 60, 200, 3)
è¾“å‡ºå½¢çŠ¶: (1, 378)
çŠ¶æ€: âœ… æˆåŠŸåˆ›å»º
```

---

### 2. âœ… ç§»é™¤å·ç§¯å±‚Dropout

**æ–‡ä»¶**: `caocrvfy/core/model.py`

**éªŒè¯é¡¹ç›®**:
- [x] **æ®‹å·®å—ä¸­æ— Dropout**
  - æ£€æŸ¥Lines 54-77: Conv â†’ BN â†’ ReLU â†’ Conv â†’ BN
  - ç»“æœ: âœ… æ— ä»»ä½•Dropoutå±‚

- [x] **å·ç§¯å †å ä¸­æ— Dropout**
  - æ£€æŸ¥Lines 82-103: ä»…è°ƒç”¨residual_block
  - ç»“æœ: âœ… æ— Dropout

- [x] **å…¨è¿æ¥å±‚ä¿ç•™Dropout**
  - Line 185: `x = layers.Dropout(0.5, name='dropout_fc')(x)`
  - ç»“æœ: âœ… ä»…åœ¨FCå±‚ä½¿ç”¨Dropout(0.5)

**æ¶æ„å¯¹æ¯”**:
```python
# âŒ æ—§ç‰ˆï¼ˆé”™è¯¯ï¼‰
Conv â†’ BN â†’ Pool â†’ Dropout(0.25)

# âœ… æ–°ç‰ˆï¼ˆæ­£ç¡®ï¼‰
Conv â†’ BN â†’ ReLU â†’ Conv â†’ BN â†’ Add â†’ ReLU
ï¼ˆæ— Dropoutï¼Œç”±BNæä¾›æ­£åˆ™åŒ–ï¼‰

# âœ… å…¨è¿æ¥å±‚ï¼ˆä¿ç•™ï¼‰
Dense(2048) â†’ Dropout(0.5) â†’ Output
```

---

### 3. âœ… è‡ªé€‚åº”å­¦ä¹ ç‡ç­–ç•¥

**æ–‡ä»¶**: `caocrvfy/core/callbacks.py`

**éªŒè¯é¡¹ç›®**:
- [x] **AdaptiveLearningRateç±»å®ç°**
  - ä½ç½®: Lines 14-76
  - ç»§æ‰¿è‡ª: `keras.callbacks.ReduceLROnPlateau` âœ…
  - ç›‘æ§æŒ‡æ ‡: `val_loss` âœ…
  - é™ä½å› å­: 0.5ï¼ˆå‡åŠï¼‰âœ…
  - è€å¿ƒå€¼: 5 epochs âœ…
  - æœ€å°å­¦ä¹ ç‡: 1e-7 âœ…

- [x] **on_train_beginå›è°ƒ**
  - Lines 47-58: è®°å½•åˆå§‹å­¦ä¹ ç‡
  - æ‰“å°é…ç½®ä¿¡æ¯
  - ç»“æœ: âœ… æ­£ç¡®å®ç°

- [x] **on_epoch_endå›è°ƒ**
  - Lines 60-71: ç›‘æ§å­¦ä¹ ç‡å˜åŒ–
  - æ‰“å°è°ƒæ•´è¯¦æƒ…ï¼ˆæ—§å€¼â†’æ–°å€¼ï¼Œé™ä½ç™¾åˆ†æ¯”ï¼‰
  - ç»“æœ: âœ… æ­£ç¡®å®ç°

**é›†æˆéªŒè¯**:
- [x] **create_callbackså‡½æ•°**
  - ä½ç½®: Lines 363-403
  - æ–°å¢å‚æ•°: `use_adaptive_lr=True` (Line 366) âœ…
  - æ¡ä»¶åˆ›å»º: Lines 385-395 âœ…
  - æ·»åŠ åˆ°å›è°ƒåˆ—è¡¨: Line 395 âœ…

**ä½¿ç”¨éªŒè¯** (`train_v4.py`):
```python
callbacks = create_callbacks(
    ...
    use_adaptive_lr=True,  # âœ… å·²å¯ç”¨
    ...
)
```

---

### 4. âœ… é¢œè‰²å½’ä¸€åŒ–é¢„å¤„ç†

**æ–‡ä»¶**: `caocrvfy/core/utils.py`

#### 4.1 OpenCVé¢„å¤„ç†è·¯å¾„

**éªŒè¯é¡¹ç›®** (Lines 108-167):
- [x] **ç°åº¦è½¬æ¢**: `cv2.cvtColor(img_array, cv2.COLOR_RGB2GRAY)` âœ…
- [x] **é«˜æ–¯æ¨¡ç³Š**: `cv2.GaussianBlur(gray, (3, 3), 0)` âœ…
- [x] **CLAHEå¢å¼º**: `clipLimit=3.0` (ä»2.0æå‡) âœ…
- [x] **OtsuäºŒå€¼åŒ–**: `cv2.THRESH_BINARY + cv2.THRESH_OTSU` âœ…
- [x] **å½¢æ€å­¦å¼€è¿ç®—**: `cv2.MORPH_OPEN, kernel(2Ã—2)` âœ…
- [x] **å½¢æ€å­¦é—­è¿ç®—**: `cv2.MORPH_CLOSE, kernel(3Ã—3)` âœ…
- [x] **é¢œè‰²åè½¬æ£€æµ‹**: `if np.mean(closed) < 128` âœ…
- [x] **é”åŒ–æ»¤æ³¢**: `kernel_sharpen = [[-1,-1,-1],[-1,9,-1],[-1,-1,-1]]` âœ…
- [x] **RGBè½¬æ¢**: `cv2.cvtColor(sharpened, cv2.COLOR_GRAY2RGB)` âœ…

**å¤„ç†æµç¨‹**:
```
åŸå›¾(RGB) â†’ ç°åº¦ â†’ æ¨¡ç³Š â†’ CLAHE(3.0) â†’ OtsuäºŒå€¼åŒ– 
â†’ å¼€è¿ç®— â†’ é—­è¿ç®— â†’ åè½¬æ£€æµ‹ â†’ é”åŒ– â†’ RGB(çº¯é»‘ç™½)
```

#### 4.2 PILé¢„å¤„ç†è·¯å¾„ï¼ˆå¤‡ç”¨ï¼‰

**éªŒè¯é¡¹ç›®** (Lines 170-220):
- [x] **ç°åº¦è½¬æ¢**: `img.convert('L')` âœ…
- [x] **å¯¹æ¯”åº¦å¢å¼º**: `enhance(3.0)` (ä»2.0æå‡) âœ…
- [x] **äº®åº¦å¢å¼º**: `enhance(1.2)` (æ–°å¢) âœ…
- [x] **åŒé‡é”åŒ–**: `filter(SHARPEN)` Ã— 2 âœ…
- [x] **äºŒå€¼åŒ–**: `point(lambda x: 255 if x > 128 else 0)` âœ…
- [x] **é¢œè‰²åè½¬æ£€æµ‹**: `if np.mean(img_array) < 128` âœ…
- [x] **RGBè½¬æ¢**: `convert('RGB')` âœ…

**å¤„ç†æµç¨‹**:
```
åŸå›¾ â†’ ç°åº¦ â†’ å¯¹æ¯”åº¦(3.0x) â†’ äº®åº¦(1.2x) â†’ åŒé‡é”åŒ– 
â†’ äºŒå€¼åŒ–(128) â†’ åè½¬æ£€æµ‹ â†’ RGB(çº¯é»‘ç™½)
```

---

### 5. âœ… è®­ç»ƒè„šæœ¬é›†æˆ

**æ–‡ä»¶**: `caocrvfy/train_v4.py`

**éªŒè¯é¡¹ç›®**:
- [x] **å¯¼å…¥ResNet-34æ¨¡å‹**
  - Line 35: `USE_ENHANCED_MODEL = False` âœ…
  - Lines 42-44: ä»`core.model`å¯¼å…¥ âœ…
  - æç¤ºä¿¡æ¯: "ä½¿ç”¨ResNet-34æ¨¡å‹ï¼ˆ34å±‚æ®‹å·®ç½‘ç»œ...ï¼‰" âœ…

- [x] **è‡ªé€‚åº”å­¦ä¹ ç‡å¯ç”¨**
  - Line 142: `use_adaptive_lr=True` âœ…

- [x] **ç›®æ ‡å‡†ç¡®ç‡è°ƒæ•´**
  - Line 147: `end_acc=0.85` (ä»0.82æå‡) âœ…

**å®Œæ•´é…ç½®**:
```python
callbacks = create_callbacks(
    model_dir=config.MODEL_DIR,
    log_dir=config.LOG_DIR,
    val_data=(val_images, val_labels),
    use_step_based=True,          # âœ… Step-basedè®­ç»ƒ
    use_early_stopping=False,     # âœ… ä¸ä½¿ç”¨æ—©åœ
    use_adaptive_lr=True,         # âœ… è‡ªé€‚åº”å­¦ä¹ ç‡
    checkpoint_save_step=500,
    validation_steps=300,
    max_checkpoints_keep=3,
    end_acc=0.85,                 # âœ… ç›®æ ‡85%
    max_steps=200000
)
```

---

## ğŸ” åŠŸèƒ½å®Œæ•´æ€§æ£€æŸ¥

### æ ¸å¿ƒåŠŸèƒ½çŸ©é˜µ

| åŠŸèƒ½ | è¦æ±‚ | å®ç°æ–‡ä»¶ | çŠ¶æ€ |
|------|------|----------|------|
| **ResNet-34æ¶æ„** | 34å±‚æ®‹å·®ç½‘ç»œ | core/model.py | âœ… å®Œæˆ |
| **æ®‹å·®è¿æ¥** | æ’ç­‰+å·ç§¯æ·å¾„ | core/model.py | âœ… å®Œæˆ |
| **åºåˆ—å»ºæ¨¡** | Bidirectional LSTM(256) | core/model.py | âœ… å®Œæˆ |
| **ç§»é™¤å·ç§¯Dropout** | ä»…ä¿ç•™FCå±‚Dropout | core/model.py | âœ… å®Œæˆ |
| **è‡ªé€‚åº”å­¦ä¹ ç‡** | ReduceLROnPlateau | core/callbacks.py | âœ… å®Œæˆ |
| **å­¦ä¹ ç‡ç›‘æ§** | æ‰“å°è°ƒæ•´ä¿¡æ¯ | core/callbacks.py | âœ… å®Œæˆ |
| **é¢œè‰²å½’ä¸€åŒ–** | OpenCVè·¯å¾„ | core/utils.py | âœ… å®Œæˆ |
| **é¢œè‰²å½’ä¸€åŒ–** | PILå¤‡ç”¨è·¯å¾„ | core/utils.py | âœ… å®Œæˆ |
| **OtsuäºŒå€¼åŒ–** | è‡ªåŠ¨é˜ˆå€¼ | core/utils.py | âœ… å®Œæˆ |
| **å½¢æ€å­¦å¤„ç†** | å¼€+é—­è¿ç®— | core/utils.py | âœ… å®Œæˆ |
| **è®­ç»ƒé›†æˆ** | ResNet-34å¯ç”¨ | train_v4.py | âœ… å®Œæˆ |

---

## ğŸ“Š å‚æ•°å¯¹æ¯”

### æ¨¡å‹å‚æ•°å˜åŒ–

| æŒ‡æ ‡ | æ—§æ¨¡å‹ | æ–°æ¨¡å‹ | å˜åŒ– |
|------|--------|--------|------|
| **æ¶æ„** | 5å±‚CNN | 34å±‚ResNet | +29å±‚ |
| **æ€»å‚æ•°** | ~10M | 32M | +220% |
| **æ¨¡å‹å¤§å°** | ~40MB | 122MB | +205% |
| **å·ç§¯Dropout** | æœ‰(0.25) | æ—  | ç§»é™¤ |
| **FC Dropout** | 0.5 | 0.5 | ä¿æŒ |
| **LSTMå•å…ƒ** | 128 | 256 | +100% |
| **ç‰¹å¾æ¸è¿›** | 32â†’64â†’128 | 64â†’128â†’256â†’512 | æ›´æ·± |

### é¢„å¤„ç†å‚æ•°å˜åŒ–

| å‚æ•° | æ—§å€¼ | æ–°å€¼ | è¯´æ˜ |
|------|------|------|------|
| **CLAHE clipLimit** | 2.0 | 3.0 | æ›´æ¿€è¿› |
| **å¯¹æ¯”åº¦å¢å¼º** | 2.0x | 3.0x | PILè·¯å¾„ |
| **äº®åº¦å¢å¼º** | æ—  | 1.2x | æ–°å¢ |
| **é”åŒ–æ¬¡æ•°** | 1æ¬¡ | 2æ¬¡ | PILè·¯å¾„ |
| **äºŒå€¼åŒ–æ–¹æ³•** | Adaptive | Otsu | æ›´ç»Ÿä¸€ |
| **å½¢æ€å­¦** | å¼€è¿ç®— | å¼€+é—­ | æ›´å®Œæ•´ |

### è®­ç»ƒå‚æ•°å˜åŒ–

| å‚æ•° | æ—§å€¼ | æ–°å€¼ | è¯´æ˜ |
|------|------|------|------|
| **å­¦ä¹ ç‡ç­–ç•¥** | å›ºå®š/ä½™å¼¦ | è‡ªé€‚åº” | ReduceLROnPlateau |
| **åˆå§‹å­¦ä¹ ç‡** | 0.001 | 0.001 | ä¿æŒ |
| **æœ€å°å­¦ä¹ ç‡** | - | 1e-7 | æ–°å¢ |
| **LRé™ä½å› å­** | - | 0.5 | æ–°å¢ |
| **LRè€å¿ƒå€¼** | - | 5 epochs | æ–°å¢ |
| **ç›®æ ‡å‡†ç¡®ç‡** | 82% | 85% | +3% |

---

## âœ… æµ‹è¯•éªŒè¯

### 1. æ¨¡å‹åˆ›å»ºæµ‹è¯•

```bash
cd caocrvfy/core
python model.py
```

**ç»“æœ**:
```
âœ… æ¨¡å‹æˆåŠŸåˆ›å»º
âœ… æ€»å‚æ•°: 32,054,714
âœ… è¾“å…¥/è¾“å‡ºå½¢çŠ¶æ­£ç¡®: (1,60,200,3) â†’ (1,378)
âœ… æ‰€æœ‰å±‚å‘½åæ­£ç¡®
```

### 2. å¯¼å…¥æµ‹è¯•

```python
from core.model import create_cnn_model, compile_model
model = create_cnn_model()
model = compile_model(model)
```

**ç»“æœ**: âœ… æ— é”™è¯¯

### 3. å›è°ƒæµ‹è¯•

```python
from core.callbacks import AdaptiveLearningRate
callback = AdaptiveLearningRate(monitor='val_loss', patience=5)
```

**ç»“æœ**: âœ… æ— é”™è¯¯

### 4. é¢„å¤„ç†æµ‹è¯•

```python
from core.utils import load_image
img = load_image('captcha/img/test.png', use_preprocessing=True)
```

**ç»“æœ**: âœ… æ­£ç¡®åº”ç”¨é¢œè‰²å½’ä¸€åŒ–

---

## ğŸš¨ æ½œåœ¨é—®é¢˜æ£€æŸ¥

### 1. âŒ è®­ç»ƒæ˜¾å­˜éœ€æ±‚

**é—®é¢˜**: ResNet-34å‚æ•°é‡å¤§ï¼Œå¯èƒ½å¯¼è‡´OOM

**æ£€æµ‹æ–¹æ³•**:
```python
# åœ¨train_v4.pyå¼€å§‹è®­ç»ƒæ—¶ç›‘æ§
import tensorflow as tf
print(tf.config.experimental.get_memory_info('GPU:0'))
```

**è§£å†³æ–¹æ¡ˆ**:
- å¦‚æœOOMï¼Œå°†`BATCH_SIZE`ä»64é™åˆ°32æˆ–16
- ä¿®æ”¹ä½ç½®: `caocrvfy/core/config.py` Line ~60

### 2. âš ï¸ è®­ç»ƒé€Ÿåº¦

**é¢„æœŸ**: ResNet-34æ¯”åŸæ¨¡å‹æ…¢20-30%

**åŸå› **:
- å‚æ•°é‡å¢åŠ 220%
- LSTMå•å…ƒåŠ å€(128â†’256)
- æ›´æ·±çš„ç½‘ç»œéœ€è¦æ›´å¤šè®¡ç®—

**ç›‘æ§æŒ‡æ ‡**:
- æ¯epochæ—¶é—´: é¢„è®¡30-40ç§’ï¼ˆåŸ25ç§’ï¼‰
- å¦‚æœè¶…è¿‡60ç§’/epochï¼Œæ£€æŸ¥GPUåˆ©ç”¨ç‡

### 3. âœ… Nameå‚æ•°é—®é¢˜

**å·²ä¿®å¤**: æ‰€æœ‰nameå‚æ•°éƒ½æœ‰é»˜è®¤å€¼æˆ–ä½¿ç”¨f-stringæ¡ä»¶è¡¨è¾¾å¼

**éªŒè¯**:
```python
# æµ‹è¯•æ— nameè°ƒç”¨
x = residual_block(x, 64)  # ä½¿ç”¨é»˜è®¤name='residual'
x = residual_stack(x, 128, 3)  # ä½¿ç”¨é»˜è®¤name='stack'
```

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

### è®­ç»ƒæ›²çº¿é¢„æµ‹

```
é˜¶æ®µ1 (Epoch 1-50):
  å®Œæ•´åŒ¹é…: 45% â†’ 65%
  å­¦ä¹ ç‡: 0.001 (åˆå§‹)
  ç‰¹ç‚¹: å¿«é€Ÿæå‡æœŸ

é˜¶æ®µ2 (Epoch 51-100):
  å®Œæ•´åŒ¹é…: 65% â†’ 75%
  å­¦ä¹ ç‡: 0.001 â†’ 0.0005 (ç¬¬1æ¬¡é™ä½)
  ç‰¹ç‚¹: ç¨³å®šå¢é•¿æœŸ

é˜¶æ®µ3 (Epoch 101-150):
  å®Œæ•´åŒ¹é…: 75% â†’ 82%
  å­¦ä¹ ç‡: 0.0005 â†’ 0.00025 (ç¬¬2æ¬¡é™ä½)
  ç‰¹ç‚¹: ç²¾ç»†ä¼˜åŒ–æœŸ

é˜¶æ®µ4 (Epoch 151-250):
  å®Œæ•´åŒ¹é…: 82% â†’ 85%+
  å­¦ä¹ ç‡: 0.00025 â†’ 0.000125 (ç¬¬3æ¬¡é™ä½)
  ç‰¹ç‚¹: æ”¶æ•›æœŸ
```

### è‡ªé€‚åº”å­¦ä¹ ç‡æ—¥å¿—ç¤ºä¾‹

```
[Epoch 10] å®Œæ•´åŒ¹é…: 58.23% | å­¦ä¹ ç‡: 0.001000

[Epoch 55]
ğŸ”» å­¦ä¹ ç‡å·²è°ƒæ•´ï¼
   0.001000 â†’ 0.000500 (é™ä½ 50.0%)
   åŸå› : val_loss åœ¨ 5 è½®å†…æ— æ”¹å–„

[Epoch 110]
ğŸ”» å­¦ä¹ ç‡å·²è°ƒæ•´ï¼
   0.000500 â†’ 0.000250 (é™ä½ 50.0%)
   åŸå› : val_loss åœ¨ 5 è½®å†…æ— æ”¹å–„
```

---

## ğŸ¯ éªŒè¯ç»“è®º

### âœ… æ‰€æœ‰ç®—æ³•æ›´æ–°å·²æ­£ç¡®åº”ç”¨

1. **ResNet-34æ¶æ„**: âœ… å®Œæ•´å®ç°ï¼Œ34å±‚ç»“æ„æ­£ç¡®
2. **ç§»é™¤å·ç§¯Dropout**: âœ… ä»…ä¿ç•™FCå±‚Dropout
3. **è‡ªé€‚åº”å­¦ä¹ ç‡**: âœ… æ­£ç¡®é›†æˆï¼Œè‡ªåŠ¨ç›‘æ§å’Œè°ƒæ•´
4. **é¢œè‰²å½’ä¸€åŒ–**: âœ… OpenCVå’ŒPILä¸¤æ¡è·¯å¾„éƒ½å·²å¢å¼º
5. **è®­ç»ƒé›†æˆ**: âœ… train_v4.pyæ­£ç¡®å¯ç”¨æ‰€æœ‰æ–°åŠŸèƒ½

### ğŸ“‹ å¯åŠ¨æ¸…å•

- [x] æ¨¡å‹æ¶æ„éªŒè¯
- [x] é¢„å¤„ç†æµç¨‹éªŒè¯
- [x] å›è°ƒå‡½æ•°éªŒè¯
- [x] è®­ç»ƒè„šæœ¬éªŒè¯
- [x] å‚æ•°é…ç½®éªŒè¯
- [x] å¯¼å…¥è·¯å¾„éªŒè¯
- [x] æµ‹è¯•ç”¨ä¾‹é€šè¿‡

### ğŸš€ å¯ä»¥å¼€å§‹è®­ç»ƒ

```bash
cd caocrvfy
python train_v4.py
```

**é¢„æœŸè¾“å‡º**:
```
ä½¿ç”¨ResNet-34æ¨¡å‹ï¼ˆ34å±‚æ®‹å·®ç½‘ç»œ + LSTM + è‡ªé€‚åº”å­¦ä¹ ç‡ï¼‰

æ­¥éª¤ 3/5: åˆ›å»ºæ¨¡å‹
================================================================================
                              æ¨¡å‹ç»“æ„
================================================================================
Model: "captcha_resnet34"
...
æ€»å‚æ•°é‡: 32,054,714
...

æ­¥éª¤ 4/5: è®­ç»ƒæ¨¡å‹
ğŸ“Š è‡ªé€‚åº”å­¦ä¹ ç‡å·²å¯ç”¨
   åˆå§‹å­¦ä¹ ç‡: 0.001000
   ç›‘æ§æŒ‡æ ‡: val_loss
   é™ä½å› å­: 0.5
   è€å¿ƒå€¼: 5 epochs
   æœ€å°å­¦ä¹ ç‡: 1.00e-07
...
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ˜¾å­˜ç›‘æ§**: é¦–æ¬¡è¿è¡Œæ³¨æ„è§‚å¯Ÿæ˜¾å­˜ä½¿ç”¨ï¼Œå¦‚æœOOMç«‹å³é™ä½batch size
2. **è®­ç»ƒæ—¶é—´**: é¢„è®¡æ€»è€—æ—¶2-3å°æ—¶ï¼ˆ200è½®Ã—40ç§’ï¼‰
3. **checkpointç®¡ç†**: è‡ªåŠ¨ä¿ç•™æœ€è¿‘3ä¸ªcheckpointï¼Œé¿å…ç£ç›˜å æ»¡
4. **å­¦ä¹ ç‡è§‚å¯Ÿ**: å…³æ³¨å­¦ä¹ ç‡è°ƒæ•´æ—¶æœºï¼Œç¡®è®¤æ˜¯å¦åˆç†
5. **å‡†ç¡®ç‡ç›®æ ‡**: ç›®æ ‡85%ï¼Œå¦‚æœ100è½®åä»<70%ï¼Œæ£€æŸ¥æ•°æ®è´¨é‡

---

**éªŒè¯å®Œæˆæ—¶é—´**: 2026-02-02 13:45  
**éªŒè¯çŠ¶æ€**: âœ… å…¨éƒ¨é€šè¿‡ï¼Œå¯ä»¥å¼€å§‹è®­ç»ƒ
